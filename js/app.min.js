function check_if_mobile_width(){$(window).width()<979?($.root_.addClass("mobile-view-activated"),$.root_.removeClass("minified")):$.root_.hasClass("mobile-view-activated")&&$.root_.removeClass("mobile-view-activated")}function runAllForms(){$.fn.slider&&$(".slider").slider(),$.fn.select2&&$(".select2").each(function(){var e=$(this),t=e.attr("data-select-width")||"100%";e.select2({allowClear:!0,width:t})}),$.fn.mask&&$("[data-mask]").each(function(){var e=$(this),t=e.attr("data-mask")||"error...",a=e.attr("data-mask-placeholder")||"X";e.mask(t,{placeholder:a})}),$.fn.autocomplete&&$("[data-autocomplete]").each(function(){var e=$(this),t=e.data("autocomplete")||["The","Quick","Brown","Fox","Jumps","Over","Three","Lazy","Dogs"];e.autocomplete({source:t})}),$.fn.datepicker&&$(".datepicker").each(function(){var e=$(this),t=e.attr("data-dateformat")||"dd.mm.yy";e.datepicker({dateFormat:t,prevText:'<i class="fa fa-chevron-left"></i>',nextText:'<i class="fa fa-chevron-right"></i>'})})}function runAllCharts(){if($.fn.sparkline){var e,t,a,i,o,r,l,n,s,d,p,h,c,u,f,g,m,k,b,v,C,w,y,x,A,_,S,j,M,R,B,T,L,E,W,D,z,N,F,H,I,O,V,X,P,Q,U,J,K,Y,G,q,Z,et,tt,at,it,ot,rt,lt,nt,st,dt,pt,ht,ct,ut,ft,gt,mt,kt,bt;$(".sparkline").each(function(){var vt=$(this),$t=vt.data("sparkline-type")||"bar";if("bar"==$t&&(e=vt.data("sparkline-bar-color")||vt.css("color")||"#0000f0",t=vt.data("sparkline-height")||"26px",a=vt.data("sparkline-barwidth")||5,i=vt.data("sparkline-barspacing")||2,o=vt.data("sparkline-negbar-color")||"#A90329",r=vt.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"],vt.sparkline("html",{barColor:e,type:$t,height:t,barWidth:a,barSpacing:i,stackedBarColor:r,negBarColor:o,zeroAxis:"false"})),"line"==$t&&(t=vt.data("sparkline-height")||"20px",et=vt.data("sparkline-width")||"90px",l=vt.data("sparkline-line-color")||vt.css("color")||"#0000f0",n=vt.data("sparkline-line-width")||1,s=vt.data("fill-color")||"#c0d0f0",d=vt.data("sparkline-spot-color")||"#f08000",p=vt.data("sparkline-minspot-color")||"#ed1c24",h=vt.data("sparkline-maxspot-color")||"#f08000",c=vt.data("sparkline-highlightspot-color")||"#50f050",u=vt.data("sparkline-highlightline-color")||"f02020",f=vt.data("sparkline-spotradius")||1.5,thisChartMinYRange=vt.data("sparkline-min-y")||"undefined",thisChartMaxYRange=vt.data("sparkline-max-y")||"undefined",thisChartMinXRange=vt.data("sparkline-min-x")||"undefined",thisChartMaxXRange=vt.data("sparkline-max-x")||"undefined",thisMinNormValue=vt.data("min-val")||"undefined",thisMaxNormValue=vt.data("max-val")||"undefined",thisNormColor=vt.data("norm-color")||"#c0c0c0",thisDrawNormalOnTop=vt.data("draw-normal")||!1,vt.sparkline("html",{type:"line",width:et,height:t,lineWidth:n,lineColor:l,fillColor:s,spotColor:d,minSpotColor:p,maxSpotColor:h,highlightSpotColor:c,highlightLineColor:u,spotRadius:f,chartRangeMin:thisChartMinYRange,chartRangeMax:thisChartMaxYRange,chartRangeMinX:thisChartMinXRange,chartRangeMaxX:thisChartMaxXRange,normalRangeMin:thisMinNormValue,normalRangeMax:thisMaxNormValue,normalRangeColor:thisNormColor,drawNormalOnTop:thisDrawNormalOnTop})),"pie"==$t&&(g=vt.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],m=vt.data("sparkline-piesize")||90,k=vt.data("border-color")||"#45494C",b=vt.data("sparkline-offset")||0,vt.sparkline("html",{type:"pie",width:m,height:m,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:g,borderWidth:1,offset:b,borderColor:k})),"box"==$t&&(v=vt.data("sparkline-width")||"auto",C=vt.data("sparkline-height")||"auto",w=vt.data("sparkline-boxraw")||!1,y=vt.data("sparkline-targetval")||"undefined",x=vt.data("sparkline-min")||"undefined",A=vt.data("sparkline-max")||"undefined",_=vt.data("sparkline-showoutlier")||!0,S=vt.data("sparkline-outlier-iqr")||1.5,j=vt.data("sparkline-spotradius")||1.5,M=vt.css("color")||"#000000",R=vt.data("fill-color")||"#c0d0f0",B=vt.data("sparkline-whis-color")||"#000000",T=vt.data("sparkline-outline-color")||"#303030",L=vt.data("sparkline-outlinefill-color")||"#f0f0f0",E=vt.data("sparkline-outlinemedian-color")||"#f00000",W=vt.data("sparkline-outlinetarget-color")||"#40a020",vt.sparkline("html",{type:"box",width:v,height:C,raw:w,target:y,minValue:x,maxValue:A,showOutliers:_,outlierIQR:S,spotRadius:j,boxLineColor:M,boxFillColor:R,whiskerColor:B,outlierLineColor:T,outlierFillColor:L,medianColor:E,targetColor:W})),"bullet"==$t){var Ct=vt.data("sparkline-height")||"auto";D=vt.data("sparkline-width")||2,z=vt.data("sparkline-bullet-color")||"#ed1c24",N=vt.data("sparkline-performance-color")||"#3030f0",F=vt.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"],vt.sparkline("html",{type:"bullet",height:Ct,targetWidth:D,targetColor:z,performanceColor:N,rangeColors:F})}"discrete"==$t&&(H=vt.data("sparkline-height")||26,I=vt.data("sparkline-width")||50,O=vt.css("color"),V=vt.data("sparkline-line-height")||5,X=vt.data("sparkline-threshold")||"undefined",P=vt.data("sparkline-threshold-color")||"#ed1c24",vt.sparkline("html",{type:"discrete",width:I,height:H,lineColor:O,lineHeight:V,thresholdValue:X,thresholdColor:P})),"tristate"==$t&&(Q=vt.data("sparkline-height")||26,U=vt.data("sparkline-posbar-color")||"#60f060",J=vt.data("sparkline-negbar-color")||"#f04040",K=vt.data("sparkline-zerobar-color")||"#909090",Y=vt.data("sparkline-barwidth")||5,G=vt.data("sparkline-barspacing")||2,q=vt.data("sparkline-zeroaxis")||!1,vt.sparkline("html",{type:"tristate",height:Q,posBarColor:Z,negBarColor:J,zeroBarColor:K,barWidth:Y,barSpacing:G,zeroAxis:q})),"compositebar"==$t&&(t=vt.data("sparkline-height")||"20px",et=vt.data("sparkline-width")||"100%",a=vt.data("sparkline-barwidth")||3,n=vt.data("sparkline-line-width")||1,l=vt.data("sparkline-color-top")||"#ed1c24",Z=vt.data("sparkline-color-bottom")||"#333333",vt.sparkline(vt.data("sparkline-bar-val"),{type:"bar",width:et,height:t,barColor:Z,barWidth:a}),vt.sparkline(vt.data("sparkline-line-val"),{width:et,height:t,lineColor:l,lineWidth:n,composite:!0,fillColor:!1})),"compositeline"==$t&&(t=vt.data("sparkline-height")||"20px",et=vt.data("sparkline-width")||"90px",tt=vt.data("sparkline-bar-val"),at=vt.data("sparkline-bar-val-spots-top")||null,it=vt.data("sparkline-bar-val-spots-bottom")||null,ot=vt.data("sparkline-line-width-top")||1,rt=vt.data("sparkline-line-width-bottom")||1,lt=vt.data("sparkline-color-top")||"#333333",nt=vt.data("sparkline-color-bottom")||"#ed1c24",st=vt.data("sparkline-spotradius-top")||1.5,dt=vt.data("sparkline-spotradius-bottom")||st,d=vt.data("sparkline-spot-color")||"#f08000",pt=vt.data("sparkline-minspot-color-top")||"#ed1c24",ht=vt.data("sparkline-maxspot-color-top")||"#f08000",ct=vt.data("sparkline-minspot-color-bottom")||pt,ut=vt.data("sparkline-maxspot-color-bottom")||ht,ft=vt.data("sparkline-highlightspot-color-top")||"#50f050",gt=vt.data("sparkline-highlightline-color-top")||"#f02020",mt=vt.data("sparkline-highlightspot-color-bottom")||ft,thisHighlightLineColor2=vt.data("sparkline-highlightline-color-bottom")||gt,kt=vt.data("sparkline-fillcolor-top")||"transparent",bt=vt.data("sparkline-fillcolor-bottom")||"transparent",vt.sparkline(tt,{type:"line",spotRadius:st,spotColor:d,minSpotColor:pt,maxSpotColor:ht,highlightSpotColor:ft,highlightLineColor:gt,valueSpots:at,lineWidth:ot,width:et,height:t,lineColor:lt,fillColor:kt}),vt.sparkline(vt.data("sparkline-line-val"),{type:"line",spotRadius:dt,spotColor:d,minSpotColor:ct,maxSpotColor:ut,highlightSpotColor:mt,highlightLineColor:thisHighlightLineColor2,valueSpots:it,lineWidth:rt,width:et,height:t,lineColor:nt,composite:!0,fillColor:bt}))})}$.fn.easyPieChart&&$(".easy-pie-chart").each(function(){var e=$(this),t=e.css("color")||e.data("pie-color"),a=e.data("pie-track-color")||"#eeeeee",i=parseInt(e.data("pie-size"))||25;e.easyPieChart({barColor:t,trackColor:a,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(i/8.5),animate:1500,rotate:-90,size:i,onStep:function(e){this.$el.find("span").text(~~e)}})})}function setup_widgets_desktop(){$.fn.jarvisWidgets&&enableJarvisWidgets&&$("#widget-grid").jarvisWidgets({grid:"article",widgets:".jarviswidget",localStorage:!0,deleteSettingsKey:"#deletesettingskey-options",settingsKeyLabel:"Reset settings?",deletePositionKey:"#deletepositionkey-options",positionKeyLabel:"Reset position?",sortable:!0,buttonsHidden:!1,toggleButton:!0,toggleClass:"fa fa-minus | fa fa-plus",toggleSpeed:200,onToggle:function(){},deleteButton:!0,deleteClass:"fa fa-times",deleteSpeed:200,onDelete:function(){},editButton:!0,editPlaceholder:".jarviswidget-editbox",editClass:"fa fa-cog | fa fa-save",editSpeed:200,onEdit:function(){},colorButton:!0,fullscreenButton:!0,fullscreenClass:"fa fa-expand | fa fa-compress",fullscreenDiff:3,onFullscreen:function(){},customButton:!1,customClass:"folder-10 | next-10",customStart:function(){alert("Hello you, this is a custom button...")},customEnd:function(){alert("bye, till next time...")},buttonOrder:"%refresh% %custom% %edit% %toggle% %fullscreen% %delete%",opacity:1,dragHandle:"> header",placeholderClass:"jarviswidget-placeholder",indicator:!0,indicatorTime:600,ajax:!0,timestampPlaceholder:".jarviswidget-timestamp",timestampFormat:"Last update: %m%/%d%/%y% %h%:%i%:%s%",refreshButton:!0,refreshButtonClass:"fa fa-refresh",labelError:"Sorry but there was a error:",labelUpdated:"Last Update:",labelRefresh:"Refresh",labelDelete:"Delete widget:",afterLoad:function(){},rtl:!1,onChange:function(){},onSave:function(){},ajaxnav:$.navAsAjax})}function setup_widgets_mobile(){enableMobileWidgets&&enableJarvisWidgets&&setup_widgets_desktop()}function loadScript(e,t){if(jsArray[e])t&&t();else{jsArray[e]=!0;var a=document.getElementsByTagName("body")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.onload=t,a.appendChild(i)}}function loadURL(e,t){$.ajax({type:"GET",url:e,dataType:"html",cache:!0,beforeSend:function(){if($.navAsAjax&&$(".google_maps")[0]&&t[0]==$("#content")[0]){var e=$(".google_maps"),a=0;e.each(function(){a++;var t=document.getElementById(this.id);a==e.length+1||t&&t.parentNode.removeChild(t)})}if($.navAsAjax&&$(".dataTables_wrapper")[0]&&t[0]==$("#content")[0]){var i=$.fn.dataTable.fnTables(!0);$(i).each(function(){$(this).dataTable().fnDestroy()})}if($.navAsAjax&&$.intervalArr.length>0&&t[0]==$("#content")[0]&&enableJarvisWidgets)for(;$.intervalArr.length>0;)clearInterval($.intervalArr.pop());t.html(""),t.html('<h1 class="ajax-loading-animation"><i class="fa fa-cog fa-spin"></i> Loading...</h1>'),t[0]==$("#content")[0]&&($("body").find("> *").filter(":not("+ignore_key_elms+")").empty().remove(),drawBreadCrumb(),$("html").animate({scrollTop:0},"fast"))},success:function(e){t.css({opacity:"0.0"}).html(e).delay(50).animate({opacity:"1.0"},300)},error:function(){t.html('<h4 class="ajax-loading-error"><i class="fa fa-warning txt-color-orangeDark"></i> Error 404! Page not found.</h4>')},async:!0})}function pageSetUp(){"desktop"===device?($("[rel=tooltip]").tooltip(),$("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),setup_widgets_desktop(),runAllCharts(),runAllForms()):($("[rel=popover]").popover(),$("[rel=popover-hover]").popover({trigger:"hover"}),runAllCharts(),setup_widgets_mobile(),runAllForms())}$.root_=$("body"),$.intervalArr=[];var calc_navbar_height=function(){var e=null;return $("#header").length&&(e=$("#header").height()),null===e&&(e=$('<div id="header"></div>').height()),null===e?49:e},navbar_height=calc_navbar_height,shortcut_dropdown=$("#shortcut"),bread_crumb=$("#ribbon ol.breadcrumb"),topmenu=!1,thisDevice=null,jsArray={},ismobile=/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase());ismobile?($.root_.addClass("mobile-detected"),device="mobile",fastClick&&($.root_.addClass("needsclick"),FastClick.attach(document.body))):($.root_.addClass("desktop-detected"),device="desktop"),($("body").hasClass("menu-on-top")||"top"==localStorage.getItem("sm-setmenu"))&&(topmenu=!0,$("body").addClass("menu-on-top")),jQuery(document).ready(function(){$("[rel=tooltip]").length&&$("[rel=tooltip]").tooltip(),$(document).mouseup(function(e){$(".ajax-dropdown").is(e.target)||0!==$(".ajax-dropdown").has(e.target).length||($(".ajax-dropdown").fadeOut(150),$(".ajax-dropdown").prev().removeClass("active"))}),$("button[data-btn-loading]").on("click",function(){var e=$(this);e.button("loading"),setTimeout(function(){e.button("reset")},3e3)})}),function(e,t,a){function i(){o=t[n](function(){r.each(function(){var t,a,i=e(this),o=e.data(this,d);try{t=i.width()}catch(r){t=i.width}try{a=i.height()}catch(r){a=i.height}(t!==o.w||a!==o.h)&&i.trigger(s,[o.w=t,o.h=a])}),i()},l[p])}var o,r=e([]),l=e.resize=e.extend(e.resize,{}),n="setTimeout",s="resize",d=s+"-special-event",p="delay",h="throttleWindow";l[p]=p,l[h]=!0,e.event.special[s]={setup:function(){if(!l[h]&&this[n])return!1;var t=e(this);r=r.add(t);try{e.data(this,d,{w:t.width(),h:t.height()})}catch(a){e.data(this,d,{w:t.width,h:t.height})}1===r.length&&i()},teardown:function(){if(!l[h]&&this[n])return!1;var t=e(this);r=r.not(t),t.removeData(d),r.length||clearTimeout(o)},add:function(t){function i(t,i,r){var l=e(this),n=e.data(this,d);n.w=i!==a?i:l.width(),n.h=r!==a?r:l.height(),o.apply(this,arguments)}if(!l[h]&&this[n])return!1;var o;return e.isFunction(t)?(o=t,i):(o=t.handler,void(t.handler=i))}}}(jQuery,this),$("#main").resize(function(){check_if_mobile_width()});var ie=function(){for(var e,t=3,a=document.createElement("div"),i=a.getElementsByTagName("i");a.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}();if($.fn.extend({jarvismenu:function(e){var t={accordion:"true",speed:200,closedSign:"[+]",openedSign:"[-]"},a=$.extend(t,e),i=$(this);i.find("li").each(function(){0!==$(this).find("ul").size()&&($(this).find("a:first").append("<b class='collapse-sign'>"+a.closedSign+"</b>"),"#"==$(this).find("a:first").attr("href")&&$(this).find("a:first").click(function(){return!1}))}),i.find("li.active").each(function(){$(this).parents("ul").slideDown(a.speed),$(this).parents("ul").parent("li").find("b:first").html(a.openedSign),$(this).parents("ul").parent("li").addClass("open")}),i.find("li a").click(function(){0!==$(this).parent().find("ul").size()&&(a.accordion&&($(this).parent().find("ul").is(":visible")||(parents=$(this).parent().parents("ul"),visible=i.find("ul:visible"),visible.each(function(e){var t=!0;parents.each(function(a){return parents[a]==visible[e]?(t=!1,!1):void 0}),t&&$(this).parent().find("ul")!=visible[e]&&$(visible[e]).slideUp(a.speed,function(){$(this).parent("li").find("b:first").html(a.closedSign),$(this).parent("li").removeClass("open")})}))),$(this).parent().find("ul:first").is(":visible")&&!$(this).parent().find("ul:first").hasClass("active")?$(this).parent().find("ul:first").slideUp(a.speed,function(){$(this).parent("li").removeClass("open"),$(this).parent("li").find("b:first").delay(a.speed).html(a.closedSign)}):$(this).parent().find("ul:first").slideDown(a.speed,function(){$(this).parent("li").addClass("open"),$(this).parent("li").find("b:first").delay(a.speed).html(a.openedSign)}))})}}),jQuery.fn.doesExist=function(){return jQuery(this).length>0},$.navAsAjax||$(".google_maps")){var gMapsLoaded=!1;window.gMapsCallback=function(){gMapsLoaded=!0,$(window).trigger("gMapsLoaded")},window.loadGoogleMaps=function(){if(gMapsLoaded)return window.gMapsCallback();var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","http://maps.google.com/maps/api/js?sensor=false&callback=gMapsCallback"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)}}var jsArray={};$("body").on("click",function(e){$('[rel="popover"]').each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).popover("hide")})});
